"use strict";var mainController=function(){var e;function n(n){var t,r;t=Quill.import("modules/clipboard"),r=Quill.import("delta"),Quill.register("modules/clipboard",class extends t{convert(e=null){"string"==typeof e&&(this.container.innerHTML=e);let n=this.container.innerText;return this.container.innerHTML="",(new r).insert(n)}},!0),e=new Quill("#messageEditor",{theme:"snow",placeholder:`Message ${n}`,modules:{keyboard:{bindings:{list:{key:"enter",shiftKey:!1,handler:function(){var n=e.root.innerHTML;if(!n)return!1;var t=document.querySelector("#messageForm");return document.querySelector("input[name=newMessage]").value=n,t.submit(),!1}}}}}})}function t(){document.querySelector(".message-box").addEventListener("keydown",function(n){var t=!0,r="";if(n.ctrlKey||n.metaKey)switch(n.keyCode){case 66:case 98:t=!1,r="*";break;case 73:case 105:t=!1,r="_";break;case 85:case 117:t=!1}return r&&function(n){var t=e.getSelection(),r=t.length;if(!(r<1)){var i,o=t.index,l=e.getText(o,r);l.length>2&&l.startsWith(n)&&l.endsWith(n)?(i=l.substr(1,r-2),e.deleteText(o,r),e.insertText(o,i),e.setSelection(o,r-2)):(i=n+l+n,e.deleteText(o,r),e.insertText(o,i),e.setSelection(o,r+2))}}(r),!1===t?(n.stopPropagation(),n.preventDefault(),!1):t},!0)}return{init:function(e){!function(){var e=document.querySelector(".message-scrollable");new SimpleBar(e);var n=document.querySelector(".simplebar-content");n.scrollTop=n.scrollHeight,e.style.visibility="visible"}(),n(e),t()}}}(),signalRController=function(){var e;return{init:function(n){(e=(new signalR.HubConnectionBuilder).withUrl("/chatHub").build()).on("UpdateChannel",function(e){e===app.channelID&&document.location.reload()}),e.start().then(function(){$("#container").removeClass("page-loading"),function(n){e.invoke("AddToChannelGroup",n).catch(function(e){return console.error(e.toString())})}(n)}).catch(function(e){return console.error(e.toString())})}}}();
//# sourceMappingURL=site.min.js.map