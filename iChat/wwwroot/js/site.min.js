"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var LikeButton=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={liked:!1},n}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){var e=this;return this.state.liked?"You liked this.":React.createElement("button",{onClick:function(){return e.setState({liked:!0})}},"Like")}}]),t}(),domContainer=document.querySelector("#like_button_container");ReactDOM.render(React.createElement(LikeButton,null),domContainer);var mainController=function(){var e;function t(t){var n,r;n=Quill.import("modules/clipboard"),r=Quill.import("delta"),Quill.register("modules/clipboard",class extends n{convert(e=null){"string"==typeof e&&(this.container.innerHTML=e);let t=this.container.innerText;return this.container.innerHTML="",(new r).insert(t)}},!0),e=new Quill("#messageEditor",{theme:"snow",placeholder:`Message ${t}`,modules:{keyboard:{bindings:{list:{key:"enter",shiftKey:!1,handler:function(){var t=e.root.innerHTML;if(!t)return!1;var n=document.querySelector("#messageForm");return document.querySelector("input[name=newMessage]").value=t,n.submit(),!1}}}}}})}function n(){document.querySelector(".message-box").addEventListener("keydown",function(t){var n=!0,r="";if(t.ctrlKey||t.metaKey)switch(t.keyCode){case 66:case 98:n=!1,r="*";break;case 73:case 105:n=!1,r="_";break;case 85:case 117:n=!1}return r&&function(t){var n=e.getSelection(),r=n.length;if(!(r<1)){var o,i=n.index,a=e.getText(i,r);a.length>2&&a.startsWith(t)&&a.endsWith(t)?(o=a.substr(1,r-2),e.deleteText(i,r),e.insertText(i,o),e.setSelection(i,r-2)):(o=t+a+t,e.deleteText(i,r),e.insertText(i,o),e.setSelection(i,r+2))}}(r),!1===n?(t.stopPropagation(),t.preventDefault(),!1):n},!0)}return{init:function(e){!function(){var e=document.querySelector(".message-scrollable");new SimpleBar(e);var t=document.querySelector(".simplebar-content");t.scrollTop=t.scrollHeight,e.style.visibility="visible"}(),t(e),n(),$(".ql-editor").on("focus",()=>{$(".message-box").addClass("focus")}).on("blur",()=>{$(".message-box").removeClass("focus")})}}}(),signalRController=function(){var e;return{init:function(t){(e=(new signalR.HubConnectionBuilder).withUrl("/chatHub").build()).on("UpdateChannel",function(e){e===app.selectedChannelId&&document.location.reload()}),e.on("ReceiveMessage",function(){document.location.reload()}),e.start().then(function(){$("#container").removeClass("page-loading"),function(t){e.invoke("AddToChannelGroup",t).catch(function(e){return console.error(e.toString())})}(t)}).catch(function(e){return console.error(e.toString())})}}}();
//# sourceMappingURL=site.min.js.map