"use strict";var mainController=function(){var e;return{init:function(t){var n=document.querySelector(".message-scrollable");n.scrollTop=n.scrollHeight,n.style.visibility="visible",e=new Quill("#messageEditor",{theme:"snow",placeholder:`Message ${t}`,modules:{keyboard:{bindings:{list:{key:"enter",shiftKey:!1,handler:function(){var t=e.root.innerHTML;if(!t)return!1;var n=document.querySelector("#messageForm");return document.querySelector("input[name=newMessage]").value=t,n.submit(),!1}}}}}}),document.querySelector(".message-box").addEventListener("keydown",function(t){var n=!0,r="";if(t.ctrlKey||t.metaKey)switch(t.keyCode){case 66:case 98:n=!1,r="*";break;case 73:case 105:n=!1,r="_";break;case 85:case 117:n=!1}return r&&function(t){var n=e.getSelection(),r=n.length;if(!(r<1)){var o,i=n.index,s=e.getText(i,r);s.length>2&&s.startsWith(t)&&s.endsWith(t)?(o=s.substr(1,r-2),e.deleteText(i,r),e.insertText(i,o),e.setSelection(i,r-2)):(o=t+s+t,e.deleteText(i,r),e.insertText(i,o),e.setSelection(i,r+2))}}(r),!1===n?(t.stopPropagation(),t.preventDefault(),!1):n},!0)}}}(),connection=(new signalR.HubConnectionBuilder).withUrl("/chatHub").build();connection.on("UpdateChannel",function(e){e===app.channelID&&document.location.reload()}),connection.start().then(function(){}).catch(function(e){return console.error(e.toString())});
//# sourceMappingURL=site.min.js.map